  # Change volume depending on rotation
  - alias: Livingroom Cube Volume
    trigger:
      platform: event
      event_type: xiaomi_aqara.cube_action
      event_data:
        entity_id: binary_sensor.cube_158d00010fd151
        action_type: rotate
    action:
      - service: script.generic_volume_control
        data_template:
          remote_hub: remote.livingroom_hub
          device: 54449337
          action_value: "{{ trigger.event.data.action_value | float }}"
          num_repeats: "{{ trigger.event.data.action_value | float // 5 }}"
      - service: script.generic_volume_control
        data_template:
          remote_hub: remote.livingroom_hub
          device: 54449333
          action_value: "{{ trigger.event.data.action_value | float }}"
          num_repeats: "{{ trigger.event.data.action_value | float // 5 }}"
  - alias: Livingroom Cube Pause
    trigger:
      platform: event
      event_type: xiaomi_aqara.cube_action
      event_data:
        entity_id: binary_sensor.cube_158d00010fd151
        action_type: shake_air
    action:
      - service: script.generic_volume_control
        data:
          remote_hub: remote.livingroom_hub
          device: 54449337
          action_value: "0"
          num_repeats: 1
      - service: script.generic_volume_control
        data:
          remote_hub: remote.livingroom_hub
          device: 54449333
          action_value: "0"
          num_repeats: 1
